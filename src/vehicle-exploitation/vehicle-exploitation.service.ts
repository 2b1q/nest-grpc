import { Injectable, Logger } from '@nestjs/common';
import {
  Vehiclhe,
  OperationResult,
  Snapshot,
} from './interfaces/vehicle.xploitation.interface';

@Injectable()
export class VehicleExploitationService {
  // TODO revrite to mongo storage
  // inMemory data: Vehiclhe, Snapshot
  private vehicle: Vehiclhe;
  private snapshot: Snapshot;
  private logger = new Logger('VehicleExploitationService');
  private logData(method, data) {
    this.logger.warn(
      `call method: ${method} with data  ${JSON.stringify(data)}`,
    );
  }

  addVehicle(vehicle: Vehiclhe): OperationResult {
    this.logData('AddVehicle', vehicle);
    this.vehicle = vehicle;
    return { status: true };
  }
  addSnapshot(snapshot: Snapshot): OperationResult {
    this.logData('AddSnapshot', snapshot);
    this.snapshot = snapshot;
    return { status: true };
  }
}
