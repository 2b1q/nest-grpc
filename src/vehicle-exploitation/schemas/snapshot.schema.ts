import * as mongoose from 'mongoose';

const SnapshotDataSchema = new mongoose.Schema({
  weight: Number,
  lifted: Boolean,
  axisId: Number,
});

export const SnapshotSchema = new mongoose.Schema({
  // UUID
  id: {
    type: String,
    index: true,
    unique: true,
  },
  vehicleId: {
    type: String,
    required: true,
  }, // link to Vehicle
  timestamp: Date,
  updated: { type: Date, default: Date.now },
  totalWeight: Number,
  cargoWeight: Number,
  data: [SnapshotDataSchema],
});
